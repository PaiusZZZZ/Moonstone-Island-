!function(t){function a(a){var e=t(a).filter(":first");if(e.length){var n=Math.floor(e.offset().top)+"px";t("html, body").animate({scrollTop:n},150,"easeInSine")}}function e(t,a){var e,n,i,s,o,r;for(nodesList=t.split(","),s=[],e=0;e<nodesList.length;e++){if(i=nodesList[e].split("-"),o=parseInt(i[0]),r=1==i.length?o:parseInt(i[1]),isNaN(o)||isNaN(r)||1>o||o>r||r-o>100)return[];for(n=o;r>=n;n++)s.push(a+n)}return s}function n(t,a){var e,n,i,s=a.length;for(t=t.replace("	"," ").replace("\n"," "),e=t.split(" "),n=0;n<e.length;n++)if(i=e[n].trim(),i.substr(0,s)==a&&(i=parseInt(i.substr(s)),!isNaN(i)&&i))return i;return 0}function i(a,e,n,i){function s(s){r=!0,a.addClass("collapsed"),l.addClass("collapsed"),e.stop(!0,!0),s?e.slideUp(200,function(){e.css("display","none")}):e.css("display","none"),i&&d?t.deleteCookie(n):i||(t.setCookie(n,"1"),d=!0)}function o(s){r=!1,a.removeClass("collapsed"),l.removeClass("collapsed"),e.stop(!0,!0),e.css("display",""),s&&e.slideUp(0).slideDown(200),!i&&d?t.deleteCookie(n):i&&(t.setCookie(n,"0"),d=!0)}var r=t.getCookie(n),d=null!=r,l=arguments.length>4?arguments[4]:t();r=d?r:i,r&&s(!1),a.click(function(){return r?o(!0):s(!0),!1})}function s(a){function e(t){t.removeClass("compact").find(".node").removeClass("compact-node lastRow firstRow firstColumn lastColumn").css("width","").find(".nodeInfoInner").css("min-height",""),t.find("compactParentMinHeight").removeClass("compactParentMinHeight").css("min-height","")}if(L){var n=C.width();(a||n!=M)&&(M=n,t(".node.auto-compact").each(function(){var n,i,s,o,r=t(this),d=r.attr("data-compact-width"),l=r.width(),c=1,h=0,f=1;if((a||l!=d)&&(r.attr("data-compact-width",l),c=Math.min(Math.floor(l/g),u),a||!(2>c)||r.hasClass("compact"))){if(2>c)return void e(r);if(n=r.find(".node.level_2"),i=n.length,2>i)return void e(r);c>i?c=i:i>c&&2*c>=i&&2*Math.floor(i/2)==i&&(c=i/2),e(r),r.addClass("compact"),h=Math.floor((i-1)/c),f=i-h*c,s=Math.floor(1e3/c)/10+"%",o=c-f+1;var p=2,v=t(),m=0,C=0,b=!1;n.each(function(a){var e=Math.floor(a/c),n=e==h?f:c,r=t(this);if(0==e&&r.addClass("firstRow"),e==h&&r.addClass("lastRow"),n!=c&&a==i-1?r.addClass("compact-node").css("width",Math.floor(1e3/c)*o/10+"%"):r.addClass("compact-node").css("width",s),p!=e&&(p=e,b!==!1&&b.addClass("lastColumn"),r.addClass("firstColumn"),a==i-1))return r.removeClass("compact-node"),void(b=r);b=r;var d=r.find(".nodeInfoInner");d.length?(v=v.add(d),m=Math.max(m,Math.floor(d.height()+1)),d.next("ol.subForumList").each(function(){C=Math.max(C,Math.floor(t(this).outerHeight(!0)))}),(a==i-1||c*e+c-1==a)&&(v.length>1&&(v.css("min-height",m+"px"),C>0&&v.parent().addClass("compactParentMinHeight").css("min-height",C+m+"px")),v=t(),m=0,C=0)):m&&(v=t(),m=0,C=0)}),b!==!1&&b.addClass("lastColumn")}}))}}function o(a){function e(t){t.removeClass("compact").children(".compact-thread").removeClass("compact-thread firstColumn lastColumn firstRow lastRow").css("width","").find(".main").css("min-height",""),t.prev(".sectionHeaders").removeClass("compact"),t.next(".sectionFooter").removeClass("compact")}function n(t){t.addClass("compact"),t.prev(".sectionHeaders").addClass("compact"),t.next(".sectionFooter").addClass("compact")}if(I){var i=C.width();(a||i!=W)&&(W=i,t(".discussionListItems.auto-compact").each(function(){var i,s,o,r,d=t(this),l=d.attr("data-compact-width"),c=d.width(),h=d.attr("data-threads-max-columns"),f=d.attr("data-threads-breakpoint"),p=1,g=0,u=1;if((a||c!=l)&&(d.attr("data-compact-width",c),p=Math.min(Math.floor(c/f),h),a||!(2>p)||d.hasClass("compact"))){if(2>p)return void e(d);if(i=d.children(".discussionListItem"),s=i.length,2>s)return void e(d);p>s?p=s:s>p&&2*p>=s&&2*Math.floor(s/2)==s&&(p=s/2),e(d),n(d),g=Math.floor((s-1)/p),u=s-g*p,o=Math.floor(1e3/p)/10+"%",r=p-u+1;var v=2,m=!1,C=[],b=0;i.each(function(a){var e,n=Math.floor(a/p),i=n==g?u:p,d=t(this);if(0==n&&d.addClass("firstRow"),n==g&&d.addClass("lastRow"),i!=p&&a==s-1?d.addClass("compact-thread").css("width",Math.floor(1e3/p)*r/10+"%"):d.addClass("compact-thread").css("width",o),v!=n&&(v=n,m!==!1&&m.addClass("lastColumn"),d.addClass("firstColumn"),a==s-1))return d.removeClass("compact-thread"),void(m=d);m=d;var l=d.find(".main:first"),c=d.children(".innerBlock");if(l.length&&c.length){if(C.push({item:l,diff:c.height()-l.height()}),b=Math.max(b,c.height()),a==s-1||p*n+p-1==a){if(C.length>1)for(e=0;e<C.length;e++)C[e].item.css("min-height",b-C[e].diff+"px");C=[],b=0}}else b&&(C=t(),b=0)}),m!==!1&&m.addClass("lastColumn")}}))}}function r(a){function e(){return d<r.minWidth||C.height()<r.minHeight?!1:(r.isStatic||(r.navHeight=r.item.height(),r.isInHeader?r.minTopPosition=r.header.height()-r.navHeight:r.minTopPosition=r.header.height(),r.wrapper.length>0&&(r.minTopPosition+=parseInt(r.wrapper.css("margin-top"))+parseInt(r.wrapper.css("padding-top"))+parseInt(r.wrapper.css("border-top-width"))),r.beforeHeader===!1&&(r.beforeHeader=r.headerMover.prevAll()),r.beforeHeader.length>0&&r.beforeHeader.each(function(){r.minTopPosition+=t(this).outerHeight()})),o=C.scrollTop(),o>r.minTopPosition)}function n(a,e){var n={},i={};t(e).find("[data-nav-id]").each(function(){var a=t(this).attr("id",""),e=a.attr("data-nav-id");n[e]=a.html(),i[e]=a.hasClass("Zero")}),t(a).find("[data-nav-id]").each(function(){var a=t(this),e=a.attr("data-nav-id");a.attr("id",a.attr("data-nav-id")),"undefined"!=typeof n[e]&&(a.html(n[e]),a.toggleClass("Zero",i[e]),a.parents(".navTab").toggleClass("zero-counter",i[e]).toggleClass("non-zero-counter",!i[e]))})}function i(){r.isStatic=!1,r.item.removeClass("static").addClass("notStatic"),r.item.hasClass("staticPageWidth")&&r.item.addClass("pageWidth"),N&&(r.item.addClass("altNav"),H=!0,n(".static-cloned-copies",".static-cloned-original")),r.header.css("min-height",""),r.minHeightItem.hide(),XenForo.forceUpdateNavigationTabs()}function s(){r.isStatic=!0,r.item.addClass("static").removeClass("notStatic"),r.item.hasClass("pageWidth")&&(r.item.removeClass("pageWidth"),r.item.hasClass("staticPageWidth")||(r.item.children().addClass("pageWidth"),r.item.addClass("staticPageWidth"))),N&&(r.item.removeClass("altNav"),H=!1,n(".static-cloned-original",".static-cloned-copies")),r.minHeightItem.css({display:"block",height:r.navHeight+"px"}),XenForo.forceUpdateNavigationTabs()}var o=0,r=v,d=Math.floor(C.width());if(!e())return void(r.isStatic&&i());if(r.isStatic||s(),a){var l=window.location.hash?window.location.hash:"";if(!l)return;window.scrollTo(C.scrollLeft(),C.scrollTop()-r.item.height()-10)}}function d(t){var a,e,n,i,s,o,r,d,l={_total:0},c=t?t.split("\n"):[];for(n=0;n<c.length;n++)if(e=c[n].split("="),e.length>1){if(a={key:e[0].trim(),value:"",className:"",style:""},e.shift(),a.value=e.join("="),r=a.value.split(","),r[0].length>3)switch(o=r[0].substr(0,3),d=r[0].substr(3),o){case"fa-":a.className="fa fa-"+d;break;case"gi-":a.className="glyphicons glyphicons-"+d}if(""!=a.className)for(r.length>1&&""!=r[1]&&(a.style+=r[1]),s=a.key.split(","),i=0;i<s.length;i++)"undefined"==typeof l[s[i]]&&l._total++,l[s[i]]=a}return l}function l(){var a,e=C.height(),n=(S.height(),t("#content"));n.css("min-height",""),a=t("body").height(),e>a&&n.css("min-height",Math.ceil(n.height()+e-a)+"px")}function c(a){function e(){l.content.removeClass("expanded"),l.expanded=!1}if(F.expand){var n,i,s,o,r,d=C.width(),l=F;if(a||d!=l.lastWindowWidth){if(l.lastWindowWidth=d,d<l.maxWidth||l.collapsed)return void(l.expanded&&e());n=l.sidebar.height(),i=l.content.width(),(a||n!=l.lastHeight||i!=l.lastWidth)&&(l.lastHeight=n,l.lastWidth=i,e(),!n||!i||l.content.height()<n||(r=l.content.children().removeClass("expandItemWidth expandChildrenWidth"),s=-10,o=!1,r.each(function(){var a,e=t(this);if(o)return void e.addClass("expandedParent");if(e.hasClass("messageList")||e.hasClass("nodeList")||e.hasClass("sectionMain"))e.children().removeClass("expandWidth").each(function(){var i=t(this);return a=i.height(),a&&(s+=a,i.attr("data-debug-height",s),s>n)?(o=!0,e.addClass("expandChildrenWidth"),i.nextAll().addClass("expandWidth"),!1):void 0});else{if(a=e.height(),!a)return;s+=a,s>n&&(o=!0)}return o?(l.expanded=!0,l.content.addClass("expanded"),e.nextAll().addClass("expandItemWidth"),!1):void 0})))}}}function h(){t(".message .messageUserInfo .messageUserBlock").each(function(){var a,e=t(this),n=e.parents(".messageUserInfo"),i=n.next(".messageInfo");if(i.length){if(P.profile&&e.css("min-height",""),P.message){if(a=i.find(".messageContent:first"),!a.length)return;a.css("min-height","")}var s,o,r=n.parents(".message:first");r.width()<=2*e.width()||(P.profile&&(s=Math.floor(r.height()),o=Math.ceil(n.height()-e.height()),e.css("min-height",s-o+"px")),P.message&&(s=e.outerHeight(!1),o=i.outerHeight(!1)-a.outerHeight(!1),a.css("min-height",Math.floor(s-o)+"px")))}})}function f(){z=!1,L&&s(!1),I&&o(!1),_&&r(!1),F.expand&&c(!1),S&&l(),P.scale&&h(),H&&XenForo.updateVisibleNavigationTabs()}function p(){B=!1,_&&v.isStatic&&r(!1)}var g,u,v,m=t(document),C=t(window),b=!1,y=!1,x=!1,T=!1,k=!1,L=!1,M=0,I=!1,W=0,N=!1,H=!1,_=!1,S=!1,F={expand:!1,collapsed:!1},P={scale:!1,profile:!1,message:!1},O=!1,B=!1,R=!1,z=!1;XenForo.forceUpdateNavigationTabs=function(){XenForo.updateVisibleNavigationTabs()},m.ready(function(){!function(){var a=navigator?navigator.userAgent:"",e=document.createElement("div"),n=["transform","webkitTransform","msTransform"];T=window.attachEvent&&!window.addEventListener,b=window.matchMedia?window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi), (min-resolution: 1.5dppx)").matches:!1,y="RTL"==t("html").attr("dir"),x=a.indexOf("like Mac OS X")>0;for(var i=0;i<n.length;i++)if("undefined"!=typeof e.style[n[i]]){k=!0,t("html").addClass("canTransform");break}delete e}(),t.fn._jQueryToolsOverlayBackup=t.fn.overlay,t.fn.overlay=function(a){var e=this._jQueryToolsOverlayBackup(a);return setTimeout(function(){t("#exposeMask").addClass("overlayExposeMask")},1),e},t.fn._xfSlideInBackup=t.fn.xfSlideIn,t.fn.xfSlideIn=function(a,e,n){return t("#exposeMask").removeClass("overlayExposeMask"),this._xfSlideInBackup(a,e,n)},t.fn._xfSlideOutBackup=t.fn.xfSlideOut,t.fn.xfSlideOut=function(a,e,n){return setTimeout(function(){t("#exposeMask").addClass("overlayExposeMask")},a+100),this._xfSlideOutBackup(a,e,n)},t(".pageContent > .xenForm, .pageContent > .xengalleryContainer > .insideContainer > .xenForm, .pageContent > .errorOverlay").not("#login").wrap('<div class="primaryContent" />'),t(".discussionListItems, .showcaseList").parent(":not(.discussionListWrapper)").wrapInner('<div class="discussionListWrapper" />'),t(".discussionListWrapper > h3").each(function(){t(this).parent().before(t(this))}),t(t(".discussionListWrapper > .pageNavLinkGroup, .discussionListWrapper > .sectionFooter").get().reverse()).each(function(){t(this).parent().after(t(this))}),t("div.sidebar .tabs li a").each(function(){this.setAttribute("title",t(this).text().trim())}),t("#taigachat_send").addClass("awesome").attr("value",""),t("#taigachat_box + #taigachat_controls").each(function(){var a=t(this);t(a.add(a.prev())).wrapAll('<div class="primaryContent" id="taigachat_wrapper" />')}),t(".dummyImage").parent().addClass("dummyImageContainer"),function(){var a=t(".subForumList.outside");a.length&&(a.prev().css("box-shadow","none"),a.parents(".category.level_1").css("box-shadow","none"))}(),t(".nodeList[data-custom-glyphs]").each(function(){function a(a){if(!(a.length<2)){var n,o,r,d,l;if(r='<i class="',/^fa\-[a-z\-]+$/.test(a[1]))r+="fa "+a[1];else{if(!/^gi\-[a-z\-_]+$/.test(a[1]))return;r+="glyphicons glyphicons-"+a[1].substr(3)}if(d=a.length>2?a[2]:"",r+='" style="'+d+'"></i>',o=e(a[0],".node_"),!(o.length<1||(nodeIcons=t(o.join(", ")).find(".nodeIcon"),nodeIcons.length<1))){for(l=[],n=0;4>n;n++)l[n]=a.length>n+3&&""!=a[n+3]?a[n+3]:i[n];nodeIcons.not(".customized").each(function(){var a=t(this).parents(".node:first"),e=0;a.hasClass("link")?e=3:a.hasClass("page")?e=2:!s&&a.children(".nodeInfo.unread").length&&(e=1),"none"!=l[e]&&t(this).css({color:l[e],"background-image":"none"}).html(r).addClass("customized")})}}}if(!T){var n=t(this).attr("data-custom-glyphs").split("\n"),i=t(this).attr("data-custom-glyph-colors").split(";"),s="true"==t(this).attr("data-show-read-glyphs");if(!(i.length<4))for(var o=0;o<n.length;o++)a(n[o].trim().split("|"))}}),t(".nodeList[data-custom-icons]").each(function(){function a(a){if(!(a.length<2)){var n,i,s;n=e(a[0],".node_"),n.length<1||(i=t(n.join(", ")).find(".nodeIcon"),i.length<1||(s={"background-image":'url("'+a[1].trim()+'")'},b&&a.length>2&&""!=a[2]&&(s["background-image"]='url("'+a[2].trim()+'")'),i.not(".customized").addClass("customized").css(s)))}}if(!T)for(var n=t(this).attr("data-custom-icons").split("\n"),i=0;i<n.length;i++)a(n[i].trim().split("|"))}),t(".nodeList[data-category-glyphs]").each(function(){function a(a){var n,i,s,o,r;if(2==a.length){if(i=a[1].split(",",2),o='<i class="',/^fa\-[a-z\-]+$/.test(i[0]))o+="fa "+i[0];else{if(!/^gi\-[a-z\-_]+$/.test(i[0]))return;o+="glyphicons glyphicons-"+i[0].substr(3)}s=i.length>1?i[1]:"",o+='" style="'+s+'"></i>',n=e(a[0],".category.level_1.node_"),n.length<1||(r=t(n.join(", ")).find(".categoryStrip .nodeTitle a").not(".has-category-glyph"),r.length<1||r.addClass("has-category-glyph").before(o))}}if(!T)for(var n=t(this).attr("data-category-glyphs").split("\n"),i=0;i<n.length;i++)a(n[i].trim().split("=",2))}),t(".nodeList:not(.nodeList .nodeList)").each(function(){function a(){i.length&&(i.filter(":first").addClass("first-node-without-title"),i.wrapAll('<li class="node category level_1 nodeNoTitle nodeNoID"><ol class="nodeList" /></li>'),i.removeClass("level_1").removeClass("groupNoChildren").addClass("level_2").find(".categoryStrip").remove(),i.parents("ol.nodeList:first").before('<div class="nodeInfo categoryNodeInfo categoryStrip empty"></div>'),i=t([]))}var e=t(this),n=e.children(),i=(n.length,t([]));n.each(function(e){var n=t(this);n.hasClass("groupNoChildren")||n.hasClass("level_2")?i=i.add(n):a()}),a()}),t(".nodeList[data-compact]").each(function(){if(!T){var a,e,n,i=t(this),s=i.attr("data-compact");if(s&&s.length){if(e=s.split("|"),g=parseInt(e[0]),isNaN(g)||!g)return void(L=!1);if(u=e.length>1?e[1]:999,(isNaN(u)||!u)&&(u=999),e.length>2&&""==e[2])i.find(".node .nodeList .node.level_2").parents(".node").each(function(){var a=t(this),e=a.find(".node");e.length>1&&(a.addClass("auto-compact").attr("data-compact-width",0),L=!0)});else{for(e=e[2].split(","),n=!1,a=0;a<e.length;a++)!n&&t("body").hasClass("node"+e[a])&&(n=!0,i.find(".node .nodeList .node.level_2").parents(".node").each(function(){var a=t(this),e=a.find(".node");e.length>1&&(a.addClass("auto-compact").attr("data-compact-width",0),L=!0)}));if(!L)for(a=0;a<e.length;a++)i.find(".node.node_"+e[a]+" .nodeList .node.level_2").parents(".node").each(function(){var a=t(this),e=a.find(".node");e.length>1&&(a.addClass("auto-compact").attr("data-compact-width",0),L=!0)})}}}}),L&&s(!1),t(".nodeList[data-expand]").each(function(){if(!T){var a,s,o,r,d=t(this),l=d.attr("data-expand");if(l&&l.length&&(o=l.split("|"),!(o.length<3||"1"!=o[0]))){if(o[1].length>0){if(a=o[1].split(","),nodeIDs=e(o[1],".category.node_"),nodeIDs.length<1)return;s=d.find(nodeIDs.join(", ")).children(".categoryNodeInfo.categoryStrip").not(".empty")}else s=d.find(".category > .categoryNodeInfo.categoryStrip").not(".empty");s.length&&(o.length>2&&o[2].length>0&&(r=e(o[2],".category.node_"),d.find(r.join(", ")).attr("data-default-collapsed","1")),s.each(function(){var a,e,s,o,r=t(this),d=r.parent(".category"),l=!1;d.length&&(e=n(d.attr("class"),"node_"),"1"==d.attr("data-default-collapsed")&&(l=!0),a=r.find(".categoryText .nodeTitle"),a.length&&(o=r.next("ol.nodeList"),o.length&&(a.before('<a class="categoryToggle" href="#"></a>'),s=r.find(".categoryToggle"),i(s,o,"node-"+e,l,d))))}))}}}),t(".discussionListItems[data-custom-icons]").each(function(){if(!T){var a,n,i,s,o,r,d=t(this).attr("data-custom-icons").split("\n");for(n=0;n<d.length;n++)i=d[n].trim(),i.length&&(a=i.split(";"),a.length<2||(s=e(a[0],"#thread-"),s.length&&(o=t(s.join(", ")).not(".has-custom-icon"),o.length&&o.each(function(){r=b&&a.length>2&&""!=a[2]?a[2]:a[1],o.addClass("has-custom-icon").find(".posterAvatar > .avatarContainer").html('<a class="avatar" data-avatarhtml="true"><img src="'+r+'" width="48" height="48" alt="" /></a>')}))))}}),t(".discussionListItems").each(function(){var a=t(this);a.children().length||a.remove()}),t(".discussionListItems").each(function(){t(this).find(".unreadLink, .ReadToggle").length||t(this).addClass("noUnreadLinks")}),t(".discussionListItem, .showcaseListItem").not(".withInnerBlock").addClass("withInnerBlock").wrapInner('<div class="innerBlock" />'),t(".discussionListItems[data-threads-compact]").each(function(){if(!T){var a,e,n,i,s=t(this),o=s.attr("data-threads-compact"),r=o.split("|"),d=s.attr("data-node-id");if(!(r.length<6)){if(s.hasClass("sticky")){if("1"!=r[4])return;a=r[5]}else{if("1"!=r[0])return;a=r[1]}if(n=parseInt(r[2]),i=parseInt(r[3]),isNaN(n)||!n)return void(I=!1);(isNaN(i)||!i)&&(i=999),d&&a.length>0&&(a="-,"+a+",",a.indexOf(","+d+",")<1)||(s.attr("data-threads-breakpoint",n),s.attr("data-threads-max-columns",i),e=s.children(),e.length<2||e.not(".discussionListItem").length>0||(s.addClass("auto-compact").data("data-compact-width",0),I=!0))}}}),I&&(XenForo.DiscussionListItemEditor.prototype.saveSuccessOld=XenForo.DiscussionListItemEditor.prototype.saveSuccess,XenForo.DiscussionListItemEditor.prototype.saveSuccess=function(a,e){XenForo.DiscussionListItemEditor.prototype.saveSuccessOld.apply(this,arguments),t("#thread-"+a.threadId).stop(!0,!0),o(!0)},o(!1)),t("#navigation").addClass("notStatic"),t("#navigation .pageContent > nav").eq(0).each(function(){if(!T){var a=t(this).addClass("primaryNavLinks withSecondaryLinks");t("#navigation[data-static-navigation]:first").each(function(){var a=t(this),e=a.attr("data-static-navigation").split(",");if(e.length&&"1"==e[0]&&t(".navTabs .navTab.selected .tabLinks").children().length){v={header:t("#header"),headerMover:t("#headerMover"),wrapper:a.parents(".pageWidth:last"),isStatic:!1,isInHeader:a.parents("#header").length>0,showSecondRow:e.length>1&&"1"==e[1],secondRowHover:e.length>2&&"1"==e[2],minWidth:e.length>3&&""!=e[3]?parseInt(e[3]):0,minHeight:e.length>4&&""!=e[4]?parseInt(e[4]):0,item:a,navHeight:0,minTopPosition:0,lastWindowWidth:0,maxWidth:!1,beforeHeader:!1};var n=v;n.header.length&&n.headerMover.length&&(_=!0,a.before('<div class="staticNavDummy" style="display:none;" />'),a.wrapInner('<div class="staticContent" />'),n.minHeightItem=a.prev(),(isNaN(n.minWidth)||n.minWidth<400)&&(n.minWidth=400),(isNaN(n.minHeight)||n.minHeight<300)&&(n.minHeight=300))}}),t("#navigation[data-alternative-nav]").each(function(){var e,n,i,s,o,r,d=t(this),l=d.find(".navTabs .publicTabs"),c=d.find(".navTabs .visitorTabs"),h=t(".navTabs .navTab.selected .tabLinks"),f=t("#header #logo");l.length&&h.length&&f.length&&(t("#navigation [id]").each(function(){var a=t(this),e=a.attr("id");a.addClass("altnav-original id-"+e)}),t("#navigation [data-contentDest]").each(function(){var a=t(this),e=a.attr("data-contentDest");"#"==e.slice(0,1)&&a.attr("data-contentDest",".altnav-original.id-"+e.slice(1))}),t("#navigation").addClass("split").find(".pageContent:first").append('<nav class="secondaryNavLinks"><div class="navTabs"><div class="navTab selected" /></div></nav>'),t("#navigation .secondaryNavLinks .navTab").append(h),c.length&&(s=d.find(".secondaryNavLinks .navTabs").addClass("mainTabs"),s.parent().addClass("withUserTabs"),o=s.after('<div class="navTabs userTabs" />').next().append(c.clone(!0)),c.addClass("static-cloned-original").find(".itemCount[id]").each(function(){var a=t(this),e=a.attr("id");a.attr("data-nav-id",e).attr("id","")}),c.find(".Menu").addClass("static-cloned-original"),o.addClass("static-cloned-copies").find(".itemCount[id]").each(function(){var a=t(this),e=a.attr("id");a.attr("data-nav-id",e)}),o.find(".Menu").addClass("static-cloned-copies"),o.find(".altnav-original").removeClass("altnav-original").addClass("altnav-cloned"),o.find("[data-contentDest]").each(function(){var a=t(this),e=a.attr("data-contentDest");a.attr("data-contentDest",e.replace("altnav-original","altnav-cloned"))})),f.after('<div class="altTabs" />'),e=f.next(),n=e.append(l.clone(!0)).children().attr("class","altTabsContainer"),i=e.parent(),l.addClass("static-cloned-original").find(".itemCount[id]").each(function(){var a=t(this),e=a.attr("id");a.attr("data-nav-id",e).attr("id","")}),l.find(".Menu").addClass("static-cloned-original"),n.addClass("static-cloned-copies").find(".itemCount[id]").each(function(){var a=t(this),e=a.attr("id");a.attr("data-nav-id",e)}),n.find(".Menu").addClass("static-cloned-copies"),r=d.next("#searchBar"),r.length&&d.find(".secondaryNavLinks").after(r),n.children(".navigationHiddenTabs").remove(),t("#navigation, #header").addClass("altNav"),N=!0,H=!0,a.addClass("withoutSecondaryLinks").removeClass("withSecondaryLinks"))})}}),t(".navTab:not(.has-icon)").addClass("no-icon"),t("#navigation").each(function(){function a(t){function a(t){var a=parseInt(t);return isNaN(a)||1>a||a>2?0:a}var e,n,i={_default:0},s=t.split(",");for(e=0;e<s.length;e++)n=s[e].split("="),1==n.length&&0==e?i._default=a(s[e]):2==n.length&&(i[n[0]]=a(n[1]));return i}function e(a,e,n){var i=n._default;for(var s in n)"_default"!=s&&a.filter("."+s).not(".has-icon-config").addClass("has-icon-config").attr("data-icon-config",n[s]);for(var s in e)"_total"!=s&&a.filter("."+s).not(".has-icon").each(function(){var a=t(this),n=a.hasClass("has-icon-config")?parseInt(a.attr("data-icon-config")):i;if(n){var o=a.addClass("has-icon").removeClass("no-icon").find(".navLink:first");o.children("strong:not(.itemCount):first").each(function(){o=t(this)}),o.wrapInner('<span class="icon-text" />');var r=o.children(".icon-text:first");r.before('<span class="icon '+e[s].className+'" style="'+e[s].style+'" />'),r.after(r.children()),o.find(".icon").attr("title",o.find(".icon-text").text().trim()),a.addClass(2==n?"icon-hide-text":"icon-show-text")}})}if(!T){var n,i,s=t(this);t(".navLink > .itemCount").each(function(){t(this).parents(".navTab").addClass(t(this).hasClass(".Zero")?"zero-counter":"non-zero-counter")}),n=s.attr("data-glyphs-main-config"),i=""!=n?d(s.attr("data-glyphs-main")):{_total:0},i._total>0&&e(t("#navigation .publicTabs").children(),i,a(n)),n=s.attr("data-glyphs-visitor-config"),i=""!=n?d(s.attr("data-glyphs-visitor")):{_total:0},i._total>0&&e(t(".visitorTabs").children(),i,a(n)),N&&(i=s.attr("data-alt-glyphs")+"\n"+s.attr("data-glyphs-main"),n="1",i=d(i),i._total>0&&e(t(".altTabs .altTabsContainer").children(),i,a("1")))}}),t("#QuickSearch #QuickSearchQuery").each(function(){var a=t(this),e=a.parents("#QuickSearch");e.toggleClass("hasValue",""!=this.value),a.on("change keyup",function(){e.toggleClass("hasValue",""!=this.value)})}),t("#content[data-button-glyphs]:first").each(function(){if(!T){var a=t("a.callToAction[href]");if(a.length){a.each(function(){var a,e=t(this),n=e.attr("href").split("/");""==n[n.length-1]&&n.pop(),a=n[n.length-1].replace(/&amp;|[&\?]|=\d?/g," "),e.addClass(a.toLowerCase())});var e=d(t(this).attr("data-button-glyphs"));for(var n in e)"_total"!=n&&a.filter("."+n).not(".has-icon").each(function(){t(this).addClass("has-icon").removeClass("no-icon").find("span:first").prepend('<i class="icon '+e[n].className+'" style="'+e[n].style+'" />')});a.not(".has-icon").each(function(){var a=t(this).attr("href").split("/");if(""==a[a.length-1]&&a.pop(),!(a.length<2)){var n=a[a.length-2].toLowerCase();for(var i in e)if("_total"!=i&&n.indexOf(i)>=0){t(this).addClass("has-icon").removeClass("no-icon").find("span:first").prepend('<i class="icon '+e[i].className+'" style="'+e[i].style+'" />');break}}})}}}),t(".discussionListFilters .removeAllFilters").data("tipclass","flipped"),t(".footerLinks a").not(".Tooltip").each(function(){var a=t(this);a.attr("title")||a.attr("title",a.text()),a.addClass("Tooltip").data("tipclass","flipped")}),t("#headerMover + footer, #headerMover > footer").children(".pageFooter[data-sticky-footer]").each(function(a){if(!(a>0)){var e=t(this);"1"==e.attr("data-sticky-footer")&&1==t("#content").length&&(S=e.parent())}}),t("#content[data-scale-message]:first").each(function(){var a=t(this).attr("data-scale-message");if(a){var e=a.split(",");if(!(e.length<3)){var n=("1"==e[0],"1"==e[1]),i="1"==e[2];(n||i)&&t(".message .messageUserInfo .messageUserBlock").length&&(P={scale:!0,profile:n,message:i})}}}),t(".pollResult .barContainer").each(function(){t(this).children().length||t(this).addClass("empty")}),t("#AccountMenu .blockLinksList li").each(function(){function a(t){var e,n,i,s,o=t.split("?"),r=o.shift();if(o.length>0&&"index.php"==r)return a(o.join("?"));if(o.length>1)for(;void 0!=(e=o.pop());)if(-1!==e.indexOf("="))return a(e);if(!r.match(/^[a-z0-9\-\/]+$/))return"";for("/"==r.substr(-1)&&(r=r.substr(0,r.length-1)),items=r.split("/"),i=items[items.length-1],s="",n=items.length-2;n>=0;n--)i=items[n]+"-"+i,s+=" link-"+i;return s}var e,n=t(this),i=n.children("a:only-child[href]");i.length&&(e=i.attr("href"),""!=e&&n.addClass("with-link"+a(e)))}),t("#forumFooter .topLink:first").each(function(){function e(){function e(){return T!==h?!0:k!==f?!0:!1}function n(){var e=t(this).attr("data-target");return a(e),!1}if(p)return void(c&&(v.css("display","none"),c=!1));var i=Math.floor(C.width()),r=window.innerHeight?window.innerHeight:w.height(),u=l.width(),m=d.outerHeight(!0),b=C.scrollTop();if(350>r)return void(c&&(v.css("display","none"),c=!1));var T=s&&b>r/2,k=o&&m-5*r/4>b;if(!T&&!k)return void(c&&(v.css("display","none"),c=!1));e()&&(v.html(""),T&&v.append('<a class="floating-top" href="javascript:void(0);" data-target="#headerMover">&uarr;</a>'),h=T,k&&v.append('<a class="floating-bottom" href="javascript:void(0);" data-target="#forumFooter">&darr;</a>'),f=k,v.find("a").click(n));var L=0;x&&window.innerHeight&&window.innerHeight-C.height()>40&&(L=44),v.hasClass("hidden")&&setTimeout(function(){!g&&c&&v.removeClass("hidden")},100),c=!0,v.css(y?"left":"right",(i-u>30?Math.floor((i-u)/2):i>800?15:5)+"px").css({top:r-32-L+"px",display:"block"})}if(!T){var n=t("#content").attr("data-floating-nav");if(n&&n.length){var i=n.split(",");if(!(i.length<2)){var s="1"==i[0],o="1"==i[1],r=i.length>2?parseInt(i[2]):0;if(s||o){(isNaN(r)||1>r)&&(r=1);var d=(t(this),t("body")),l=t("#content .pageWidth"),c=!1,h=!1,f=!1,p=!1,g=!1,u=1;if(l.length){d.append('<div id="floatingNavigation" />');var v=t("#floatingNavigation");e(),C.on("scroll resize",function(){u=u%1024+1;var t=u;g||(g=!0,c&&(v.addClass("hidden"),setTimeout(function(){g&&v.hasClass("hidden")&&v.hide()},100))),setTimeout(function(){u==t&&(g=!1,e())},r)}),t("input, iframe").focus(function(){p=!0,e()}).blur(function(){p=!1,e()})}}}}}}),t("#content[data-move-breadcrumb-button]").each(function(){var a=t(this),e=a.find(".breadBoxTop a.callToAction"),n=t("#content").prop("class"),i=e.length?a.find(".titleBar > h1"):!1;e.length&&i.length&&-1==n.indexOf("sonnb_xengallery_")&&i.before('<div class="titleBarButtons" />').prev().append(e)}),t(".sidebar").not(".mainContent .sidebar").each(function(){var a=t(this),e=a.parent("aside");1==e.length&&(e.addClass("sidebarContainer"),a.addClass("sidebarWrapped"),t("html").addClass("hasSidebarContainer"))}),t("#content[data-sidebar-move-signup]").each(function(){var a=t(this),e=a.attr("data-sidebar-move-signup");if("1"===e){var n=t(this).find(".sidebarContainer .sidebar .section.loginButton");if(n.length){var i=n.parent(".sidebar");i.length&&(i.before('<div class="sidebar noWrapper" />'),i.prev().append(n))}}}),t(".sidebarContainer").each(function(a){function e(){b&&(y=!y,o.css("display",y?"":"none"),l.toggleClass("active",y),c.toggleClass("down",!y))}function n(){w&&(x=!x,o.toggleClass("sidebarToggled",x),v.toggleClass("sidebarToggled",x),h.toggleClass("toggled",x),x?t.setCookie(k,"1"):t.deleteCookie(k),setTimeout(function(){M=0,W=0,C.triggerHandler("resize"),t(".mainContent").trigger("XenForoResize")},300))}function i(){var a=t(window).width();u&&(L>a?b||(l.css("display",""),o.css("display",y?"":"none"),b=!0):b&&(l.css("display","none"),o.css("display",""),b=!1)),g&&(I>a?w&&(h.hide(),w=!1):w||(h.show(),w=!0))}try{var s=t(this),o=s.children(".sidebar"),r=t("#content").attr("data-sidebar-toggle");if(!o.length||r===!1)return;var d=r.split(",",5);if(5!=d.length)return;var l,c,h,f=parseInt(d[3]),p="1"==d[2],g=!1,u=!1,v=t(".mainContent"),m=d[4],b=!1,y=!1,w=!1,x=!1,k="sidebar",L=f-5,I=f+5}catch(N){return}if(r&&f&&!T){if("1"==d[0]&&(u=!0,b=!1,s.prepend('<div class="sidebarToggle" style="display: none; clear: both;"><a class="callToAction" href="javascript:void(0);"><span></span></a></div>'),l=s.children(".sidebarToggle"),c=l.find("span").text(m).append('<strong class="arrow down"></strong>').find("strong:last")),"1"==d[1]&&1==v.length){var H=t(".breadBoxTop .jumpMenuTrigger");H.length&&(H.before('<a class="jumpMenuTrigger sidebarToggle'+(p?" leftSidebar":"")+'" href="#"></a>'),h=H.prev(),h.attr("title",m),g=!0,w=!0)}(u||g)&&(i(),t(window).resize(i),u&&l.find("a").click(function(){e()}),g&&h.click(function(){return n(),!1}),g&&t.getCookie(k)&&n())}}),t("#content[data-expand-content]").each(function(){if(!T){var a=t(this),e=a.attr("data-expand-content").split(",");if(!(e.length<2||"1"!==e[0]||(F.maxWidth=parseInt(e[1]),isNaN(F.maxWidth)))){F.maxWidth+=10;var n=t(this).find(".sidebarContainer .sidebar");if(n.length){var i=n.parent().prev(".mainContainer").children(".mainContent");if(i.length){var s=i.children(),o=!1;s.each(function(){var a=t(this);return a.hasClass("messageList")||a.hasClass("nodeList")||a.hasClass("sectionMain")?(o=!0,!1):void 0}),o&&(F.expanded=!1,F.lastWidth=0,F.lastHeight=0,F.lastWindowWidth=0,F.sidebar=n,F.content=i,F.expand=!0)}}}}}),function(){function a(t,a){return{parent:!1,parentContainer:!1,maxRatio:1,container:!1,siblings:!1,tabs:t,lastContainerWidth:-1,lastMinWidth:-1,lastMaxWidth:-1,type:a,reverse:!1}}function e(t){t.id="NavigationHiddenMenu"+d,r.push(t),d++;var a=t.container.children("li:not(.navigationHidden, .navigationHiddenTabs)");a.first().addClass("firstVisible"),a.last().addClass("lastVisible")}function n(a){if(N){if(H&&"normal"==a.type)return;if(!H&&"alt"==a.type)return}var e=Math.floor(a.parentContainer?a.parentContainer.width():a.parent.width());if(e&&e!=a.lastContainerWidth){a.lastContainerWidth=e;var n=a.container.children("li:not(.navigationHidden, .navigationHiddenTabs)"),i=a.container.children("li.navigationHidden, li.navigationHiddenTabs");i.length||(a.tabs?(a.container.append('<li class="navigationHiddenTabs navTab Popup PopupControl PopupClosed"><a rel="Menu" class="navLink NoPopupGadget"><span class="menuIcon">...</span></a><div class="Menu blockLinksList primaryContent" id="'+a.id+'"></div></li>'),i=a.container.children(".navigationHiddenTabs").hide()):(a.container.append('<li class="navigationHidden Popup PopupControl PopupClosed"><a rel="Menu" class="NoPopupGadget">...</a><div class="Menu blockLinksList primaryContent" id="'+a.id+'"></div></li>'),i=a.container.children(".navigationHidden").hide()),new XenForo.PopupMenu(i));var s=e*a.maxRatio;a.siblings!==!1&&a.siblings.each(function(){var a=t(this),n=a.outerWidth(!0);n>0&&e-100>n&&(s-=n)});var o=a.parentContainer?a.parent.outerWidth(!0)-a.container.width():0;if(o>0&&e>o&&(s-=o,e-=o),100>s&&"alt"==a.type&&(s=e),s-=10,s!=a.lastMaxWidth&&!(s<a.lastMaxWidth&&a.lastMinWidth>0&&s>a.lastMinWidth)){i.css("display","none"),n.css("display","");var r="alt"==a.type?3:0,d=i.outerWidth(!0)+r,l=d,c=n.length-1,h=!1,f=t("<ul />"),p=!0,g=!1;if(a.lastMinWidth=-1,a.lastMaxWidth=-1,n.removeClass("firstVisible lastVisible"),a.reverse&&(n=t(n.get().reverse())),n.filter(".selected").each(function(){var a=t(this).outerWidth(!0);a>0&&(l+=a+r)}),n.each(function(e){var n,i=t(this),o=l;if(i.hasClass("selected"))return p&&(i.addClass("firstVisible"),p=!1),void(g=i);if(!h){var u=i.outerWidth(!0);if(1>u)return;l+=u+r,
e==c&&(l-=d),l>s&&(h=!0,a.lastMinWidth=o,a.lastMaxWidth=l)}h?(a.tabs?n=i.find("a.navLink").clone(!0):(n=i.children(),n.hasClass("Popup")?(n=n.find(".PopupControl").clone(!1),n.children(".arrowWidget").remove()):n=n.clone(!0)),f.append(t("<li />").html(n)),i.css("display","none")):(p&&(i.addClass("firstVisible"),p=!1),g=i)}),h){var u=t("#"+a.id);u.length||(u=t(a.tabs?"#NavigationHiddenMenu":"#NavigationLinksHiddenMenu")),u.html(f).xfActivate(),i.css("display",""),g=i}else i.css("display","none");g!==!1&&g.addClass("lastVisible")}}}function i(t){for(var a=0;d>a;a++)r[a].tabs==t&&n(r[a])}var s=t("#header"),o=t("#navigation"),r=[],d=0;1==s.length&&1==o.length&&(t(".navTabs.userTabs").each(function(){var n,i=t(this);n=a(!0,"alt-user"),n.parent=i,n.parentContainer=i.parent(),n.maxRatio=.6,n.container=i.find(".visitorTabs:first"),e(n)}),t(".navTabs").each(function(){function n(t){i=a(!0,"normal"),arguments.length>1&&(i.type=arguments[1]),i.parent=s,i.container=t,"user"==i.type?i.maxRatio=.6:i.siblings=t.siblings(),i.siblings.length||(i.siblings=!1),e(i)}var i,s=t(this);if(!s.hasClass("userTabs")){if(s.hasClass("mainTabs"))return i=a(!1,"alt-secondary"),i.parent=s,i.parentContainer=s.parent(),i.siblings=s.siblings(),i.container=s.find(".tabLinks > .blockLinksList"),i.reverse=!0,void(1==i.container.length&&e(i));var o=s.children("ul");return o.length>0?(o.filter(".visitorTabs").each(function(){n(t(this),"user")}),o.filter(".publicTabs").each(function(){n(t(this))}),o.not(".visitorTabs, .publicTabs").each(function(){n(t(this),"public")}),void s.find(".navTab.selected .blockLinksList").each(function(){var n=t(this);i=a(!1,"secondary"),i.parent=n,i.container=n,i.reverse=!0,e(i)})):void 0}}),t(".altTabs").each(function(){var n,i=t(this);n=a(!0,"alt"),n.parent=i.parent(),n.container=i.find(".altTabsContainer:first"),n.siblings=i.siblings(),n.siblings.length||(n.siblings=!1),e(n)}),XenForo.updateVisibleNavigationLinks=function(){i(!1)},XenForo.updateVisibleNavigationTabs=function(){i(!0)},XenForo.forceUpdateNavigationTabs=function(){for(var t=0;d>t;t++)r[t].lastParentWidth=-1,r[t].lastMinWidth=-1,r[t].lastMaxWidth=-1,n(r[t])})}();var r=XenForo.LoginBar;XenForo.LoginBar=function(){return t("#loginBar.loginBarOverlay").length?void 0:r.apply(this,arguments)}}),C.load(function(){L&&s(!0),I&&o(!0),_&&(r(!0),t(".Menu.tabMenu").hover(function(){t("#navigation").addClass("hover")},function(){t("#navigation").removeClass("hover")})),F.expand&&c(!0),S&&l(),P.scale&&h()}),C.resize(function(){z?R=!0:(f(),R=!1,z=!0,setTimeout(function(){z=!1,R&&f()},500))}),C.scroll(function(){B?O=!0:(p(),B=!0,O=!1,setTimeout(function(){B=!1,O&&p()},250)),_&&!v.isStatic&&r(!1)}),C.on("hashchange",function(){setTimeout(function(){_&&r(!0)},1)}),t(document).bind("XenForoActivationComplete OverlayOpened TitlePrefixRecalc",function(){I&&t(".discussionListItems.compact .inlineCtrlGroup").each(function(){var a=t(this),e=a.parent().prev();if(e.hasClass("compact-thread")){var n=Math.floor(e.offset().top-e.parent().offset().top+e.outerHeight())+2,i=Math.floor(e.offset().left-e.parent().offset().left);e.hasClass("firstColumn")||(i+=5),a.css({top:n+"px",left:i+"px",width:Math.floor(e.width())+"px"})}})}),t(document).bind("OverlayOpened",function(){t(".xenOverlay.chooserOverlay").each(function(){var a=t(this),e=a.attr("data-cheched-search");if(!e){a.attr("data-cheched-search",!0);var n=a.find(".subHeading + .secondaryContent"),i=t(".primaryContent.chooserColumns > li");!n.length||i.length<10||i.find(".title").length<i.length||(n.addClass("chooserOverlaySearchWrapper").append('<div class="chooserOverlaySearch"><input type="search" class="textCtrl" value="" /></div>'),n.find("input").bind("change keyup",function(){var a=this.value.toLowerCase();return a.length?void i.each(function(){var e=t(this),n=e.find(".title").text().toLowerCase();-1==n.indexOf(a)?e.css("display","none"):e.css("display","")}):void i.css("display","")}))}})})}(jQuery);